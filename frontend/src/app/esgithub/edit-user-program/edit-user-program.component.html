<!-- <div class="flex h-screen bg-[#1E1F3D]">
  <div class="w-full">
    <div class="relative top-8 w-full">
      <ng-container *ngIf="programData$ | async as program">
        <div
          class="flex flex-col w-[90%] relative left-[5%] border p-4 rounded-lg bg-white bg-opacity-15 backdrop-filter backdrop-blur-lg border-black border-opacity-75"
        >
          <div class="flex justify-between mb-2">
            <div class="relative mb-4">
              <button
                (click)="onShowGuidClick()"
                class="mt-4 relative ml-2 bg-black text-white font-bold py-1 px-4 rounded"
              >
                <mat-icon>info</mat-icon>
                <span class="relative p-2 bottom-1.5 italic">Show guid</span>
              </button>
              <button
                (click)="onSaveChangesClick()"
                class="bg-black text-white font-bold py-1 px-4 rounded ml-2"
              >
                <mat-icon>edit</mat-icon>
                <span class="relative p-2 bottom-1.5 italic">Save changes</span>
              </button>
              <button
                (click)="onSaveNewVersionClick()"
                class="bg-black text-white font-bold py-1 px-4 rounded ml-2"
              >
                <mat-icon>account_tree</mat-icon>
                <span class="relative p-2 bottom-1.5 italic">Save new version</span>
              </button>

              <select
                class="bg-black opacity-30 border border-black text-white font-bold relative top-[-2px] rounded ml-2 p-2"
                [(ngModel)]="selectedVersion"
                (change)="onProgramVersionSelect()"
              >
                <option disabled selected [ngValue]="null">SELECT PROGRAM VERSION</option>
                <option [ngValue]="program">current version</option>
                <option
                  *ngFor="let programVersion of (programVersions$ | async)?.versions"
                  [ngValue]="programVersion"
                >
                  {{ programVersion.version }}
                </option>
              </select>
              <button
                (click)="onDeleteProgramOrVersionClick()"
                class="bg-red-700 text-white font-bold py-1 px-4 rounded ml-2"
              >
                <mat-icon>delete</mat-icon>
                <span class="relative p-2 bottom-1.5 italic">Delete</span>
              </button>
            </div>

            <div class="relative top-4 flex">
              <img
                *ngIf="program.programmingLanguage === AvailableLangages.PYTHON"
                src="assets/images/icons/python-svgrepo-com.svg"
                style="height: 40px; width: 40px"
              />
              <img
                *ngIf="program.programmingLanguage === AvailableLangages.JAVASCRIPT"
                src="assets/images/icons/javascript-svgrepo-com.svg"
                style="height: 40px; width: 40px"
              />
              <img
                *ngIf="program.programmingLanguage === AvailableLangages.CPLUSPLUS"
                src="https://raw.githubusercontent.com/isocpp/logos/master/cpp_logo.png"
                style="height: 40px; width: 40px"
              />
              <img
                *ngIf="program.programmingLanguage === AvailableLangages.PHP"
                src="https://upload.wikimedia.org/wikipedia/commons/c/c6/Twemoji_1f4a9.svg"
                style="height: 40px; width: 40px"
              />
            </div>
          </div>

          <div class="mb-1">
            <div
              #editor
              class="h-[400px] w-full border-0 bg-[#1E1F3D] bg-opacity-50 backdrop-filter backdrop-blur-lg border border-black border-opacity-30"
            ></div>
          </div>
        </div>
      </ng-container>
      <div class="flex flex-row m-1.5">
        <button
          (click)="onRunCodeClick()"
          class="mt-4 relative left-[5%] bg-black text-white font-bold py-1 px-4 rounded mr-5"
        >
          <mat-icon>play_arrow</mat-icon>
          <span class="relative p-2 bottom-1.5 italic">Run code</span>
        </button>

        <input
          #inputSelect
          type="file"
          id="fileInput"
          style="display: none"
          (change)="onInputFilesSelect($event)"
        />
        <button
          class="mt-4 relative left-[5%] bg-black text-white font-bold py-1 px-4 rounded mr-5"
          (click)="inputSelect.click()"
        >
          <mat-icon>attach_file</mat-icon>
          <span class="relative p-2 bottom-1.5 italic">Select files</span>
        </button>

        <button
          (click)="onClearSelectedFilesClick()"
          class="mt-4 relative left-[5%] bg-black text-white font-bold py-1 px-4 rounded mr-5"
        >
          <mat-icon>remove_circle</mat-icon>
          <span class="relative p-2 bottom-1.5 italic">Clear files</span>
        </button>

        <div class="text-red-500 font-bold italic text-sm left-[5%] relative mt-6">
          {{ selectedInputFiles.length }} files selected
        </div>
      </div>

      <p class="relative left-[5%] text-white text-sm mt-4">
        select output file formats (max 5 files) leave it empty if you want to keep the
        current ouput files formats
      </p>

      <div
        class="overflow-x-auto bg-[#1E1F3D] flex flex-row w-[90%] mt-1 relative left-[5%] border mb-8 border-gray-300 bg-opacity-15 backdrop-filter backdrop-blur-lg border-black border-opacity-75 rounded-lg"
      >
        <div
          (click)="onAddFormatClick(format)"
          *ngFor="let format of fileTypes"
          class="h-full hover:bg-white py-5 w-full relative flex items-center cursor-pointer hover:bg-opacity-25"
        >
          <span
            class="px-2 mr-2 ml-1 border-gray-50 bg-white bg-opacity-15 text-black rounded-full text-black"
          >
            {{
              getSelectedOutputFilesNumbers(format) !== 0
                ? getSelectedOutputFilesNumbers(format)
                : ''
            }}
          </span>
          <span class="text-white font-bold italic">{{ format }}</span>
        </div>
      </div>

      <div
        class="flex flex-col w-[90%] mt-1 relative left-[5%] border h-48 max-h-96 border-gray-300 bg-white bg-opacity-15 backdrop-filter backdrop-blur-lg border-black border-opacity-75 rounded-lg"
      >
        <mat-progress-bar
          mode="indeterminate"
          color="accent"
          *ngIf="isLoading"
        ></mat-progress-bar>
        <textarea
          disabled
          *ngIf="codeOutput && codeOutput.status === 0"
          class="h-48 max-h-96 overflow-y-auto bg-[#1E1F3D] bg-opacity-50 backdrop-filter backdrop-blur-lg border border-black border-opacity-30"
        >
      {{ codeOutput.output }}
    </textarea
        >
        <textarea
          disabled
          *ngIf="codeOutput && codeOutput.status !== 0"
          class="h-48 max-h-96 overflow-y-auto text-red-600 bg-[#1E1F3D] bg-opacity-50 backdrop-filter backdrop-blur-lg border border-black border-opacity-30"
        >
      {{ codeOutput.output }}
    </textarea
        >
      </div>
    </div>
  </div>

  <div class="w-[33Opx]">
    <app-side-profile
      *ngIf="userData$ | async as currentUser"
      [currentUser]="currentUser"
    ></app-side-profile>
  </div>
</div> -->

<!-- <div
  class="absolute inset-0 bg-black bg-opacity-50 flex justify-center items-center z-10"
  *ngIf="isPageLoading$ | async"
>
  <mat-spinner class="w-24 h-24"></mat-spinner>
</div> -->

<div class="flex" *ngIf="programData$ | async as program">
  <!-- language selection -->
  <div>
    <app-coding-page-langages-selection
      [programLangage]="program.programmingLanguage"
    ></app-coding-page-langages-selection>
  </div>

  <div class="flex w-full">
    <!-- coding input -->
    <div class="w-1/2 flex flex-col">
      <div class="flex items-center bg-[#212121] w-full p-4 border border-zinc-600">
        <p class="text-[#333333] pr-11 text-xl">Input</p>
        <!-- different button actions -->
        <div class="flex items-center">
          <button (click)="onRunCodeClick()" class="mr-3">
            <svg
              width="45"
              height="44"
              viewBox="0 0 45 44"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect x="1" y="0.5" width="43" height="43" rx="3.5" fill="#212121" />
              <rect x="1" y="0.5" width="43" height="43" rx="3.5" stroke="#6C6C6C" />
              <path
                d="M32.1584 20.8205L18.4153 10.945C17.2771 9.83455 15.3174 10.6127 15.3174 12.1749V31.8238C15.3174 33.3815 17.2678 34.1616 18.4086 33.0601L32.1518 23.2867C32.8564 22.6065 32.8592 21.5043 32.1583 20.8205H32.1584Z"
                fill="white"
              />
            </svg>
          </button>
          <!-- <button (click)="onInviteUsersClick()" class="mr-3">
            <svg
              width="45"
              height="44"
              viewBox="0 0 45 44"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect x="1" y="0.5" width="43" height="43" rx="3.5" fill="#212121" />
              <rect x="1" y="0.5" width="43" height="43" rx="3.5" stroke="#6C6C6C" />
              <g clip-path="url(#clip0_438_3653)">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M27.2167 21.4336C32.1366 21.4336 36.1 25.8069 36.1 31.2734C36.1 31.2734 36.1 33.7335 33.5033 33.7335H20.9301C18.5188 33.7335 18.3466 31.6124 18.3342 31.3093L18.3332 31.2735C18.3332 25.8067 22.2967 21.4336 27.2165 21.4336L27.2167 21.4336ZM15.6 15.9668C16.42 15.9668 16.9666 16.5134 16.9666 17.3334V18.7H18.3332C19.1534 18.7 19.7 19.2468 19.7 20.0668C19.7 20.8868 19.1534 21.4334 18.3332 21.4334H16.9666V22.8C16.9666 23.62 16.42 24.1668 15.6 24.1668C14.78 24.1668 14.2334 23.62 14.2334 22.8V21.4334H12.8666C12.0466 21.4334 11.5 20.8868 11.5 20.0668C11.5 19.2468 12.0466 18.7 12.8666 18.7H14.2334V17.3334C14.2334 16.5134 14.78 15.9668 15.6 15.9668ZM27.2167 10.5C29.8584 10.5 32 12.6416 32 15.2833C32 17.9251 29.8584 20.0667 27.2167 20.0667C24.5749 20.0667 22.4333 17.9251 22.4333 15.2833C22.4333 12.6416 24.5748 10.5 27.2167 10.5Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_438_3653">
                  <rect
                    width="25"
                    height="25"
                    fill="white"
                    transform="translate(11.5 9.5)"
                  />
                </clipPath>
              </defs>
            </svg>
          </button> -->
          <!-- <button
            (click)="onShareClick()"
            class="border cursor-pointer border-zinc-500 flex items-center px-4 h-11 text-white rounded mr-3 gap-2"
          >
            <mat-icon>share</mat-icon>
            <span>Share</span>
          </button> -->

          <button
            for="programFileInput"
            class="border cursor-pointer border-zinc-500 flex items-center px-4 h-11 text-white rounded mr-3 gap-2"
            (click)="onSaveNewVersionClick()"
          >
            <svg
              width="26"
              height="26"
              viewBox="0 0 26 26"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M22.0495 1.64648H3.94941C2.6814 1.64648 1.64551 2.68237 1.64551 3.95039V4.6916C1.64551 5.24389 2.09322 5.6916 2.64551 5.6916H23.353C23.9053 5.6916 24.353 5.24389 24.353 4.6916V3.95039C24.353 2.68237 23.3173 1.64648 22.0495 1.64648ZM5.14033 3.66892C5.14033 3.93022 4.92851 4.14204 4.66721 4.14204C4.40591 4.14204 4.19409 3.93022 4.19409 3.66892C4.19409 3.40762 4.40591 3.1958 4.66721 3.1958C4.92851 3.1958 5.14033 3.40762 5.14033 3.66892ZM7.10718 3.66892C7.10718 3.93022 6.89535 4.14204 6.63406 4.14204C6.37276 4.14204 6.16094 3.93022 6.16094 3.66892C6.16094 3.40762 6.37276 3.1958 6.63406 3.1958C6.89535 3.1958 7.10718 3.40762 7.10718 3.66892ZM9.07402 3.66892C9.07402 3.93022 8.8622 4.14204 8.6009 4.14204C8.33961 4.14204 8.12778 3.93022 8.12778 3.66892C8.12778 3.40762 8.33961 3.1958 8.6009 3.1958C8.8622 3.1958 9.07402 3.40762 9.07402 3.66892ZM21.805 3.66892C21.805 3.93022 21.5932 4.14204 21.3319 4.14204H10.9666C10.7053 4.14204 10.4935 3.93022 10.4935 3.66892C10.4935 3.40762 10.7053 3.1958 10.9666 3.1958H21.3319C21.5932 3.1958 21.805 3.40762 21.805 3.66892Z"
                fill="white"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M1.64551 22.0503C1.64551 23.3181 2.6814 24.3542 3.94941 24.3542H22.0495C23.3173 24.3542 24.3534 23.3181 24.3534 22.0503V7.47103C24.3534 7.01079 23.9803 6.6377 23.5201 6.6377H2.47921C2.01898 6.6377 1.64589 7.01078 1.64588 7.47101L1.64551 22.0503ZM19.0676 11.7046L13.6982 8.99918C13.4828 8.89059 13.2428 8.83382 12.9991 8.83382C12.7554 8.83382 12.5154 8.89059 12.3 8.99918L6.93064 11.7046C6.13358 12.1059 6.13358 13.1935 6.93064 13.5947L12.3 16.3009C12.5154 16.4094 12.7554 16.4662 12.9991 16.4662C13.2428 16.4662 13.4828 16.4094 13.6982 16.3009L19.0676 13.5947C19.8646 13.1942 19.8646 12.1059 19.0676 11.7046ZM19.164 14.6096C19.3184 14.7071 19.4451 14.8395 19.5327 14.995C19.6203 15.1505 19.6662 15.3243 19.6662 15.5008C19.6662 15.6774 19.6203 15.8511 19.5327 16.0067C19.4451 16.1622 19.3184 16.2946 19.164 16.3921L19.0676 16.4455L13.6982 19.151C13.5029 19.2494 13.2872 19.3054 13.0665 19.3149C12.8458 19.3244 12.6257 19.2871 12.4219 19.2058L12.3007 19.151L6.93064 16.4455C6.16797 16.0607 6.13507 15.0472 6.83419 14.6096L6.88129 14.6381L12.3 17.3692C12.4954 17.4678 12.7112 17.5238 12.9321 17.5333C13.1529 17.5428 13.3732 17.5055 13.5771 17.4241L13.6982 17.3692L19.0676 14.6638C19.1007 14.6469 19.1323 14.6288 19.164 14.6096ZM19.0676 19.2964C19.831 18.9122 19.8631 17.898 19.164 17.4604C19.1323 17.4796 19.1007 17.4977 19.0676 17.5146L13.6982 20.22C13.4828 20.3286 13.2428 20.3854 12.9991 20.3854C12.7554 20.3854 12.5154 20.3286 12.3 20.22L6.88129 17.4889L6.83419 17.4604C6.13507 17.898 6.16797 18.9115 6.93064 19.2964L12.3 22.0018C12.5154 22.1104 12.7554 22.1672 12.9991 22.1672C13.2428 22.1672 13.4828 22.1104 13.6982 22.0018L19.0676 19.2964Z"
                fill="white"
              />
            </svg>

            <span>new version</span>
          </button>
          <button
            for="programFileInput"
            class="border cursor-pointer border-zinc-500 flex items-center px-4 h-11 text-white rounded mr-3 gap-2"
            (click)="onSaveChangesClick()"
          >
            <svg
              width="26"
              height="26"
              viewBox="0 0 26 26"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M22.0495 1.64648H3.94941C2.6814 1.64648 1.64551 2.68237 1.64551 3.95039V4.6916C1.64551 5.24389 2.09322 5.6916 2.64551 5.6916H23.353C23.9053 5.6916 24.353 5.24389 24.353 4.6916V3.95039C24.353 2.68237 23.3173 1.64648 22.0495 1.64648ZM5.14033 3.66892C5.14033 3.93022 4.92851 4.14204 4.66721 4.14204C4.40591 4.14204 4.19409 3.93022 4.19409 3.66892C4.19409 3.40762 4.40591 3.1958 4.66721 3.1958C4.92851 3.1958 5.14033 3.40762 5.14033 3.66892ZM7.10718 3.66892C7.10718 3.93022 6.89535 4.14204 6.63406 4.14204C6.37276 4.14204 6.16094 3.93022 6.16094 3.66892C6.16094 3.40762 6.37276 3.1958 6.63406 3.1958C6.89535 3.1958 7.10718 3.40762 7.10718 3.66892ZM9.07402 3.66892C9.07402 3.93022 8.8622 4.14204 8.6009 4.14204C8.33961 4.14204 8.12778 3.93022 8.12778 3.66892C8.12778 3.40762 8.33961 3.1958 8.6009 3.1958C8.8622 3.1958 9.07402 3.40762 9.07402 3.66892ZM21.805 3.66892C21.805 3.93022 21.5932 4.14204 21.3319 4.14204H10.9666C10.7053 4.14204 10.4935 3.93022 10.4935 3.66892C10.4935 3.40762 10.7053 3.1958 10.9666 3.1958H21.3319C21.5932 3.1958 21.805 3.40762 21.805 3.66892Z"
                fill="white"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M3.94941 24.3542C2.6814 24.3542 1.64551 23.3181 1.64551 22.0503L1.64587 7.63767C1.64589 7.0854 2.0936 6.6377 2.64587 6.6377H23.3534C23.9057 6.6377 24.3534 7.08541 24.3534 7.6377V22.0503C24.3534 23.3181 23.3173 24.3542 22.0495 24.3542H3.94941ZM16.6316 10.6673C16.6316 10.115 17.0793 9.66732 17.6316 9.66732H17.7698C18.322 9.66732 18.7698 10.115 18.7698 10.6673L18.7697 20.4627C18.7697 21.015 18.3219 21.4627 17.7697 21.4627H8.16615C7.61386 21.4627 7.16615 21.015 7.16615 20.4627V10.6673C7.16615 10.115 7.61386 9.66732 8.16615 9.66732H8.35233C8.90461 9.66732 9.35233 10.115 9.35233 10.6673V11.1179C9.35233 11.6702 9.80004 12.1179 10.3523 12.1179H15.6316C16.1839 12.1179 16.6316 11.6702 16.6316 11.1179V10.6673ZM12.6199 20.1149C11.5388 19.9913 10.5723 19.3164 10.088 18.3468C9.63026 17.4305 9.63026 16.3667 10.088 15.4505C10.3915 14.8428 10.9244 14.3101 11.5321 14.0064C12.4484 13.5487 13.5121 13.5487 14.4284 14.0064C15.036 14.3099 15.5687 14.8428 15.8724 15.4505C16.3302 16.3668 16.3302 17.4305 15.8724 18.3468C15.7189 18.6542 15.5245 18.9209 15.2634 19.1818C14.5576 19.8875 13.597 20.2266 12.6199 20.1149ZM15.935 10.5923C15.935 10.0815 15.521 9.66742 15.0102 9.66742H10.9503C10.4395 9.66742 10.0254 10.0815 10.0254 10.5923C10.0254 11.1031 10.4395 11.5172 10.9502 11.5172H15.0102C15.521 11.5172 15.935 11.1031 15.935 10.5923ZM13.787 17.7517C13.621 17.9157 13.4606 18.0096 13.2556 18.063C12.8562 18.1669 12.4526 18.0532 12.151 17.7516C11.8493 17.4497 11.7356 17.0467 11.8398 16.6471C11.9561 16.2002 12.3338 15.8613 12.7948 15.7896C13.552 15.6719 14.2308 16.3509 14.1132 17.1079C14.0737 17.3618 13.9653 17.5755 13.787 17.7517Z"
                fill="white"
              />
            </svg>

            <span>Save changes</span>
          </button>

          <select
            [(ngModel)]="selectedVersion"
            (change)="onProgramVersionSelect()"
            class="bg-gray-50 border border-gray-300 w-40 px-4 h-11 text-gray-900 text-sm rounded-lg block dark:bg-[#212121] dark:border-gray-600 dark:placeholder-gray-400 dark:text-white outline-none dark:focus:border-blue-500"
          >
            <option [ngValue]="program">current version</option>
            <option
              *ngFor="let programVersion of (programVersions$ | async)?.versions"
              [ngValue]="programVersion"
            >
              {{ programVersion.version }}
            </option>
          </select>

          <button class="ml-4" (click)="onDeleteProgramOrVersionClick()">
            <svg
              width="42"
              height="44"
              viewBox="0 0 42 44"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect x="0.5" width="41" height="44" rx="4" fill="#9D3F3F" />
              <path
                d="M30.0495 10.6465H11.9494C10.6814 10.6465 9.64551 11.6824 9.64551 12.9504V13.6916C9.64551 14.2439 10.0932 14.6916 10.6455 14.6916H31.353C31.9053 14.6916 32.353 14.2439 32.353 13.6916V12.9504C32.353 11.6824 31.3169 10.6465 30.0491 10.6465H30.0495ZM13.1403 12.6689C13.1403 12.9302 12.9285 13.142 12.6672 13.142C12.4059 13.142 12.1941 12.9302 12.1941 12.6689C12.1941 12.4076 12.4059 12.1958 12.6672 12.1958C12.9285 12.1958 13.1403 12.4076 13.1403 12.6689ZM15.1072 12.6689C15.1072 12.9302 14.8954 13.142 14.6341 13.142C14.3728 13.142 14.1609 12.9302 14.1609 12.6689C14.1609 12.4076 14.3728 12.1958 14.6341 12.1958C14.8954 12.1958 15.1072 12.4076 15.1072 12.6689ZM17.074 12.6689C17.074 12.9302 16.8622 13.142 16.6009 13.142C16.3396 13.142 16.1278 12.9302 16.1278 12.6689C16.1278 12.4076 16.3396 12.1958 16.6009 12.1958C16.8622 12.1958 17.074 12.4076 17.074 12.6689ZM29.805 12.6689C29.805 12.9302 29.5932 13.142 29.3319 13.142H18.9666C18.7053 13.142 18.4935 12.9302 18.4935 12.6689C18.4935 12.4076 18.7053 12.1958 18.9666 12.1958H29.3319C29.5932 12.1958 29.805 12.4076 29.805 12.6689Z"
                fill="white"
              />
              <path
                d="M19.3584 23.8774C19.3584 23.6161 19.5702 23.4043 19.8315 23.4043C20.0928 23.4043 20.3046 23.6161 20.3046 23.8774V27.9473C20.3046 28.2086 20.0928 28.4204 19.8315 28.4204C19.5702 28.4204 19.3584 28.2086 19.3584 27.9473V23.8774Z"
                fill="white"
              />
              <path
                d="M21.6943 23.8774C21.6943 23.6161 21.9062 23.4043 22.1675 23.4043C22.4288 23.4043 22.6406 23.6161 22.6406 23.8774V27.9473C22.6406 28.2086 22.4288 28.4204 22.1675 28.4204C21.9062 28.4204 21.6943 28.2086 21.6943 27.9473V23.8774Z"
                fill="white"
              />
              <path
                d="M19.3672 18.6795C19.3672 18.4574 19.5472 18.2773 19.7694 18.2773H22.2293C22.4514 18.2773 22.6314 18.4574 22.6314 18.6795C22.6314 18.9016 22.4514 19.0817 22.2293 19.0817H19.7694C19.5472 19.0817 19.3672 18.9016 19.3672 18.6795Z"
                fill="white"
              />
              <path
                d="M9.64551 31.0503C9.64551 32.3181 10.6814 33.3542 11.9494 33.3542H30.0495C31.3173 33.3542 32.3534 32.3181 32.3534 31.0503V16.6377C32.3534 16.0854 31.9057 15.6377 31.3534 15.6377H10.6459C10.0936 15.6377 9.64589 16.0854 9.64587 16.6377L9.64551 31.0503ZM24.9031 29.8573C24.832 30.3493 24.4104 30.7144 23.9133 30.7144H18.0858C17.5887 30.7144 17.167 30.3493 17.096 29.8573L16.1352 23.2C16.0481 22.5971 16.5158 22.0572 17.1249 22.0572H24.8745C25.4837 22.0572 25.9513 22.5972 25.8643 23.2001L24.9031 29.8573ZM15.1666 20.0812C15.1665 19.5289 15.6142 19.0811 16.1666 19.0811H17.546C18.0294 19.0811 18.4212 18.6893 18.4212 18.2059C18.4212 17.7226 18.813 17.3307 19.2964 17.3307H22.7027C23.1861 17.3307 23.5779 17.7226 23.5779 18.2059C23.5779 18.6893 23.9698 19.0811 24.4531 19.0811H25.8326C26.3849 19.0811 26.8326 19.5288 26.8326 20.0811V20.1105C26.8326 20.6628 26.3849 21.1105 25.8326 21.1105L16.1666 21.1107C15.6143 21.1107 15.1666 20.663 15.1666 20.1107L15.1666 20.0812Z"
                fill="white"
              />
            </svg>
          </button>
        </div>
      </div>

      <div class="bg-[#141414] w-full h-full p-6">
        <div
          #editor
          class="bg-[#333333] w-full rounded-lg outline-none border-none h-full"
        ></div>
      </div>
    </div>

    <!-- coding Output -->
    <div class="w-1/2 flex flex-col max-h-screen overflow-auto">
      <div class="flex items-center bg-[#212121] w-full p-4 border border-zinc-600">
        <p class="text-[#333333] pr-11 text-xl">Output</p>

        <!-- output file selection -->

        <!-- different button actions -->
        <div class="flex items-center">
          <input
            #inputSelect
            type="file"
            id="fileInput"
            class="hidden"
            (change)="onInputFilesSelect($event)"
          />
          <label
            for="fileInput"
            class="border cursor-pointer border-zinc-500 flex items-center px-4 py-2 text-white rounded mr-3 gap-2"
          >
            <svg
              width="25"
              height="26"
              viewBox="0 0 25 26"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_439_5247)">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M14.6588 1.9225L21.2379 8.7366C21.6028 9.11877 21.8069 9.6208 21.8029 10.1649L21.8026 22.2319C21.8026 24.0296 20.3876 25.4997 18.6475 25.4997H6.48809C4.75235 25.4997 3.33301 24.0342 3.33301 22.2319V4.60077C3.33301 2.80304 4.74797 1.33301 6.48809 1.33301H13.2836C13.8008 1.33301 14.2901 1.54485 14.6588 1.9225ZM12.2566 16.1998L11.7836 16.6897C11.6823 16.7946 11.5501 16.8438 11.412 16.8501C11.2711 16.8565 11.139 16.7853 11.0385 16.6895C10.9408 16.5974 10.8835 16.4368 10.8835 16.3027C10.8835 16.1623 10.9425 16.0154 11.0385 15.9159L11.1707 15.7791L11.8956 15.0283C11.9485 14.9735 12.0012 14.9187 12.0539 14.8639C12.1594 14.7542 12.2649 14.6445 12.3712 14.5356C12.4478 14.4572 12.535 14.3869 12.6249 14.3258C12.7134 14.2657 12.8122 14.2249 12.9102 14.1845L12.9147 14.1826C12.9755 14.158 13.038 14.1397 13.1015 14.1288C13.209 14.1097 13.319 14.0924 13.4283 14.096C13.8132 14.1087 14.2017 14.2729 14.4607 14.5731C14.6087 14.7437 14.7117 14.9271 14.7822 15.1451C14.8165 15.2536 14.8297 15.3668 14.842 15.4799C14.849 15.5456 14.8508 15.6122 14.8455 15.6788C14.827 15.9105 14.7759 16.114 14.6711 16.3211C14.6217 16.4196 14.5531 16.5081 14.4852 16.5929C14.4649 16.6185 14.4438 16.6422 14.4218 16.665C14.3085 16.7836 14.1947 16.901 14.0809 17.0185C14.0239 17.0773 13.967 17.1361 13.91 17.1951L13.1824 17.9487C13.1656 17.966 13.1489 17.9834 13.1323 18.0007C13.0991 18.0353 13.0661 18.0697 13.0326 18.1038C12.9181 18.2215 12.7886 18.3264 12.6556 18.4204C12.5103 18.5225 12.3544 18.5937 12.1923 18.663C12.0707 18.715 11.943 18.7533 11.8135 18.778C11.6444 18.809 11.4717 18.8318 11.3 18.8282C11.1264 18.8245 10.9511 18.8009 10.782 18.7616C10.612 18.7215 10.4508 18.6549 10.2922 18.5801C10.1715 18.5235 10.057 18.4533 9.95046 18.3712C9.80954 18.2616 9.67394 18.1495 9.55764 18.0117C9.32426 17.7371 9.15068 17.4251 9.045 17.0748C8.99304 16.9042 8.96835 16.7263 8.95073 16.5484C8.93751 16.4133 8.93751 16.2774 8.95164 16.1424C8.9701 15.9627 8.99563 15.7829 9.0485 15.6105C9.10138 15.4408 9.16921 15.2738 9.25377 15.1187C9.38769 14.8733 9.5691 14.6672 9.7594 14.4701L10.2668 13.9446L11.0111 13.1737L11.8013 12.3553L12.4557 11.6775L12.7904 11.3308C12.9332 11.183 13.0944 11.0498 13.2679 10.9421C13.4159 10.8509 13.577 10.7788 13.7391 10.7204C13.9056 10.6602 14.0765 10.6328 14.2509 10.61C14.3787 10.5926 14.5081 10.5881 14.6367 10.5981C14.8093 10.6109 14.9847 10.6365 15.152 10.6857C15.3167 10.734 15.4788 10.8033 15.6303 10.8855C15.7862 10.9703 15.9289 11.0798 16.0662 11.1984C16.1693 11.2868 16.2635 11.3882 16.3464 11.4976C16.4538 11.6408 16.5559 11.784 16.6326 11.9474C16.7876 12.2777 16.8757 12.6207 16.8916 12.9874C16.8995 13.1663 16.8793 13.3424 16.8528 13.5193C16.8325 13.6517 16.8 13.7821 16.7541 13.908C16.6925 14.0777 16.6211 14.2456 16.5269 14.398C16.4308 14.5521 16.319 14.6999 16.1939 14.8304C16.0935 14.9353 15.9605 14.9846 15.8204 14.991C15.6795 14.9973 15.5474 14.9261 15.447 14.8304C15.3492 14.7383 15.2919 14.5777 15.2919 14.4436C15.2919 14.3031 15.351 14.1563 15.447 14.0568C15.4855 14.0169 15.5224 13.9754 15.5575 13.9321C15.5467 13.9477 15.5357 13.9631 15.5245 13.9783L15.5961 13.8829C15.5835 13.8995 15.5706 13.916 15.5575 13.9321C15.6262 13.833 15.6856 13.7282 15.7352 13.6179C15.7279 13.638 15.7203 13.6579 15.7124 13.6777C15.7287 13.6371 15.7451 13.5966 15.7614 13.5569C15.753 13.5774 15.7442 13.5978 15.7352 13.6179C15.7777 13.5008 15.8094 13.3796 15.83 13.2563C15.8277 13.2824 15.8249 13.3084 15.8217 13.3345L15.8398 13.191C15.8369 13.2128 15.8336 13.2346 15.83 13.2563C15.8405 13.1359 15.8405 13.0146 15.8299 12.8938C15.8336 12.9155 15.8369 12.9373 15.8398 12.9592L15.8213 12.8133C15.8247 12.8401 15.8276 12.8669 15.8299 12.8938C15.8093 12.7702 15.7775 12.649 15.735 12.5318C15.7441 12.5521 15.7529 12.5726 15.7614 12.5933C15.7438 12.5495 15.7262 12.5058 15.7085 12.4629C15.7178 12.4857 15.7266 12.5086 15.735 12.5318C15.6861 12.4229 15.6277 12.3192 15.5602 12.2217C15.5762 12.2416 15.5919 12.2617 15.6073 12.2822C15.5936 12.264 15.5797 12.2455 15.5658 12.2269C15.5519 12.2085 15.5381 12.1901 15.5245 12.1719C15.5367 12.1883 15.5486 12.2049 15.5602 12.2217C15.4886 12.1332 15.4099 12.0517 15.3246 11.9774C15.3403 11.989 15.3558 12.0009 15.3712 12.0131C15.3535 11.9989 15.3356 11.9845 15.3178 11.9701C15.3 11.9558 15.2822 11.9414 15.2646 11.9273C15.2849 11.9436 15.3049 11.9603 15.3246 11.9774C15.2294 11.9068 15.129 11.8459 15.0232 11.7948C15.0425 11.8024 15.0618 11.8102 15.0809 11.8184C15.0417 11.8015 15.0026 11.7846 14.9642 11.7677C14.984 11.7764 15.0037 11.7854 15.0232 11.7948C14.91 11.7508 14.7931 11.7179 14.674 11.6966C14.6992 11.699 14.7244 11.7019 14.7495 11.7053L14.611 11.6865C14.632 11.6895 14.653 11.6929 14.674 11.6966C14.5578 11.6857 14.4406 11.6858 14.324 11.6967C14.345 11.6929 14.366 11.6895 14.3872 11.6865L14.2462 11.7056C14.2721 11.7021 14.298 11.6991 14.324 11.6967C14.2047 11.7181 14.0877 11.751 13.9745 11.7951C13.9941 11.7856 14.0139 11.7765 14.0339 11.7677C13.9916 11.7859 13.9494 11.8042 13.908 11.8224C13.93 11.8129 13.9522 11.8037 13.9745 11.7951C13.8698 11.8455 13.7701 11.9057 13.6763 11.9752C13.6951 11.959 13.7141 11.943 13.7335 11.9273C13.7159 11.9415 13.698 11.9559 13.6802 11.9703C13.6624 11.9846 13.6446 11.999 13.627 12.0131C13.6432 12.0002 13.6597 11.9875 13.6763 11.9752C13.6329 12.0128 13.5912 12.0519 13.5512 12.0933C13.4743 12.1724 13.3981 12.2515 13.322 12.3305C13.2839 12.3701 13.2458 12.4096 13.2077 12.4491L12.392 13.2939L11.4354 14.2847L10.6594 15.0884C10.6294 15.1194 10.5989 15.1502 10.5683 15.1811C10.4683 15.2822 10.3672 15.3844 10.2774 15.4951C10.2888 15.4786 10.3005 15.4622 10.3124 15.446C10.2987 15.4643 10.2848 15.4829 10.2708 15.5014C10.257 15.5198 10.2432 15.5382 10.2296 15.5564C10.2451 15.5357 10.261 15.5152 10.2774 15.4951C10.2095 15.5934 10.1508 15.6972 10.1017 15.8064C10.109 15.7864 10.1165 15.7664 10.1245 15.7466C10.1081 15.7872 10.0918 15.8277 10.0754 15.8675C10.0839 15.847 10.0926 15.8266 10.1017 15.8064C10.0591 15.9236 10.0274 16.0447 10.0069 16.1681C10.0091 16.142 10.0119 16.1159 10.0152 16.0899L9.99704 16.2334C9.99997 16.2116 10.0032 16.1898 10.0069 16.1681C9.99634 16.2885 9.99636 16.4098 10.0069 16.5306C10.0033 16.5089 9.99998 16.487 9.99704 16.4652L10.0155 16.6111C10.0121 16.5843 10.0092 16.5575 10.0069 16.5306C10.0275 16.6541 10.0593 16.7753 10.1019 16.8926C10.0927 16.8722 10.0839 16.8517 10.0754 16.831C10.0931 16.8749 10.1107 16.9186 10.1283 16.9615C10.1191 16.9387 10.1103 16.9157 10.1019 16.8926C10.1508 17.0014 10.2091 17.1051 10.2766 17.2026C10.2606 17.1828 10.2449 17.1626 10.2296 17.1421C10.2433 17.1604 10.2572 17.179 10.2711 17.1975C10.285 17.2159 10.2988 17.2343 10.3124 17.2525C10.3002 17.2361 10.2883 17.2194 10.2766 17.2026C10.3483 17.2911 10.4269 17.3727 10.5123 17.447C10.4966 17.4353 10.4811 17.4234 10.4657 17.4113C10.4833 17.4254 10.5012 17.4399 10.5191 17.4543C10.5369 17.4686 10.5547 17.483 10.5723 17.4971C10.5519 17.4807 10.5319 17.464 10.5123 17.447C10.6074 17.5175 10.7079 17.5785 10.8137 17.6295C10.7943 17.622 10.775 17.6141 10.7559 17.6059C10.7951 17.6228 10.8342 17.6398 10.8726 17.6567C10.8528 17.648 10.8332 17.6389 10.8137 17.6295C10.9268 17.6736 11.0437 17.7064 11.1629 17.7277C11.1376 17.7254 11.1124 17.7225 11.0873 17.7191L11.2259 17.7379C11.2048 17.7349 11.1838 17.7315 11.1629 17.7277C11.2791 17.7386 11.3962 17.7386 11.5129 17.7277C11.4919 17.7314 11.4708 17.7348 11.4497 17.7379L11.5906 17.7188C11.5647 17.7223 11.5388 17.7252 11.5129 17.7277C11.6321 17.7063 11.7492 17.6734 11.8624 17.6293C11.8427 17.6388 11.8229 17.6479 11.8029 17.6567C11.8452 17.6384 11.8875 17.6202 11.9289 17.6019C11.9069 17.6115 11.8847 17.6206 11.8624 17.6293C11.9663 17.5792 12.0655 17.5195 12.1587 17.4505C12.1406 17.4664 12.1221 17.482 12.1033 17.4971C12.121 17.4829 12.1388 17.4685 12.1567 17.4541C12.1745 17.4397 12.1923 17.4254 12.2099 17.4113C12.193 17.4247 12.176 17.4378 12.1587 17.4505C12.2364 17.3825 12.3082 17.3079 12.3803 17.233C12.389 17.224 12.3976 17.215 12.4063 17.206L13.1956 16.3886L13.5523 16.0191C13.5641 16.0071 13.576 15.9951 13.5879 15.9831C13.6289 15.9416 13.6702 15.8998 13.7085 15.8557C13.6964 15.8747 13.6837 15.8933 13.6704 15.9115C13.6841 15.8932 13.698 15.8746 13.7119 15.8561C13.7226 15.8419 13.7332 15.8278 13.7438 15.8137C13.7579 15.7785 13.7725 15.7425 13.7867 15.708L13.7849 15.7245L13.7871 15.707L13.8005 15.6011L13.8033 15.6214L13.8006 15.5999L13.8005 15.5988L13.7871 15.493L13.7866 15.4917C13.7726 15.4567 13.7585 15.4218 13.7444 15.3874L13.7434 15.3858L13.6831 15.3054L13.6976 15.3167L13.6823 15.3043L13.6813 15.3035L13.6032 15.2407C13.5692 15.226 13.5345 15.2109 13.5012 15.1962L13.5171 15.1981L13.5002 15.1958L13.3979 15.1819L13.4175 15.179L13.3968 15.1818L13.3958 15.1819L13.2936 15.1958L13.2924 15.1962C13.2586 15.2108 13.2248 15.2254 13.1916 15.24L13.1901 15.241L13.0961 15.3167C13.1132 15.3031 13.1308 15.2902 13.1487 15.2778C13.1072 15.3164 13.0678 15.358 13.0286 15.3995C13.0127 15.4164 12.9967 15.4332 12.9807 15.4499L12.2566 16.1998Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_439_5247">
                  <rect
                    width="25"
                    height="25"
                    fill="white"
                    transform="translate(0 0.5)"
                  />
                </clipPath>
              </defs>
            </svg>
            Select File
          </label>
          <button
            class="flex items-center px-4 py-2 text-white rounded bg-[#9D3F3F] gap-2"
            (click)="onClearSelectedFilesClick()"
          >
            <svg
              width="25"
              height="26"
              viewBox="0 0 25 26"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_439_5250)">
                <path
                  d="M21.8774 8.7366L15.0633 1.9225C14.6814 1.54485 14.1747 1.33301 13.639 1.33301H6.60077C4.7985 1.33301 3.33301 2.80304 3.33301 4.60077V22.2319C3.33301 24.0342 4.80304 25.4997 6.60077 25.4997H19.1944C20.9967 25.4997 22.4622 24.0296 22.4622 22.2319L22.4625 10.1649C22.4667 9.6208 22.2553 9.11877 21.8774 8.7366ZM16.1016 17.8761C15.9561 18.0213 15.761 18.096 15.5742 18.096C15.3872 18.096 15.1879 18.0213 15.0427 17.8761L12.9001 15.7457L10.7614 17.8761C10.612 18.0213 10.4211 18.096 10.2302 18.096C10.0351 18.096 9.84417 18.0213 9.69447 17.8758C9.40375 17.585 9.40375 17.1034 9.69447 16.8127L11.837 14.6701L9.69867 12.5318C9.40795 12.241 9.40795 11.7678 9.69867 11.4687C9.99358 11.178 10.4752 11.178 10.7659 11.4687L12.9002 13.6032L15.0427 11.469C15.3335 11.1783 15.8151 11.1783 16.1058 11.469C16.4007 11.7681 16.4007 12.2413 16.1058 12.532L13.9671 14.6746L16.1055 16.8172C16.4004 17.1079 16.4003 17.5853 16.1016 17.8761Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_439_5250">
                  <rect
                    width="25"
                    height="25"
                    fill="white"
                    transform="translate(0 0.5)"
                  />
                </clipPath>
              </defs>
            </svg>

            Clear File
          </button>

          <div *ngFor="let fileInput of selectedInputFiles">
            <p
              class="bg-[#6C6C6C] relative py-1 px-1 ml-2 rounded text-[8px] text-[#212121]"
            >
              {{ fileInput.name | formatFilename }}
            </p>
          </div>
        </div>
      </div>

      <div class="flex flex-col bg-[#141414] w-full h-full p-6 border-l border-zinc-600">
        <!-- output selection -->
        <div
          class="border border-[#333333] py-4 px-3 flex mt-1 relative mb-8 backdrop-filter backdrop-blur-lg rounded-lg"
        >
          <div
            *ngFor="let format of fileTypes"
            class="h-full justify-center mr-4 py-3 w-full relative flex items-center cursor-pointer rounded hover:bg-[#333333]"
            (click)="onAddFormatClick(format)"
            [ngClass]="{ 'bg-[#333333]': getSelectedOutputFilesNumbers(format) > 0 }"
          >
            <span
              *ngIf="getSelectedOutputFilesNumbers(format) > 0"
              class="absolute text-white bg-[#333333] border border-[#141414] top-[-12px] right-[-12px] w-6 h-6 flex justify-center items-center rounded-full"
            >
              {{ getSelectedOutputFilesNumbers(format) }}
            </span>
            <span class="text-white font-bold">{{ format }}</span>
          </div>
        </div>

        <div
          class="bg-[#333333] w-full overflow-auto rounded-lg outline-none border-none h-full"
        >
          <mat-progress-bar
            mode="indeterminate"
            color="accent"
            *ngIf="isLoading"
          ></mat-progress-bar>
          <p *ngIf="codeOutput && codeOutput.status !== 0" class="p-4">
            <span class="text-white">{{ codeOutput.stderr }}</span>
          </p>

          <p *ngIf="codeOutput && codeOutput.status === 0" class="p-4">
            <span class="text-white">{{ codeOutput.output }}</span>

            <ng-container *ngIf="categorizedFiles.otherFiles">
              <div *ngFor="let otherFile of categorizedFiles.otherFiles">
                <button
                  class="border text-white rounded-s border-zinc-400 px-4 py-2"
                  (click)="loadFileContent(otherFile)"
                >
                  Load Content for other file
                </button>
                <div class="text-white whitespace-pre">
                  {{ fileContents[otherFile] }}
                </div>
              </div>
            </ng-container>

            <ng-container *ngIf="categorizedFiles.imageFiles; let imagesOutputFiles">
              <div *ngFor="let imageFileOuput of imagesOutputFiles">
                <img [src]="imageFileOuput" alt="result" />
              </div>
            </ng-container>

            <ng-container *ngIf="categorizedFiles.pdfFiles; let pdfOutputFiles">
              <div *ngFor="let pdfFiles of pdfOutputFiles">
                <ngx-extended-pdf-viewer
                  [src]="pdfFiles"
                  height="auto"
                  backgroundColor="#141414"
                ></ngx-extended-pdf-viewer>
              </div>
            </ng-container>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
